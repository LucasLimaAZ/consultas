(this.webpackJsonpgerenciador_consultas=this.webpackJsonpgerenciador_consultas||[]).push([[0],{48:function(e,t,a){},55:function(e,t,a){e.exports=a(95)},60:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),c=a.n(r),o=(a(60),a(8)),m=(a(61),a(12)),i=a(13),s=a(96),u=a(97),p=a(105),E=a(5),d=a.n(E),f=a(17),h=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),r=a[0],c=a[1],i=e.icon,E=e.title,h=e.items;return l.a.createElement("div",null,l.a.createElement(s.a,{onClick:function(){return c(!r)},className:d()({"menu-open":!r})},l.a.createElement(u.a,{className:"dropdown-toggle"},l.a.createElement(m.a,{icon:i,className:"mr-2"}),E)),l.a.createElement(p.a,{isOpen:!r,navbar:!0,className:d()("items-menu",{"mb-1":!r})},h.map((function(e,t){return l.a.createElement(s.a,{key:t,className:"pl-4"},l.a.createElement(u.a,{tag:f.b,to:e.target},e.title))}))))},b=a(98),g=a(26),v=a(27),O=a(49),N=a.n(O).a.create({baseURL:"https://appointments12.herokuapp.com/api/"});N.interceptors.request.use((function(e){return e.headers={"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.getItem("access_token")},e}),(function(e){return e}));var A=N,S=new(function(){function e(t){Object(g.a)(this,e),this.authenticated=!1}return Object(v.a)(e,[{key:"login",value:function(e,t,a){var n=this;A.post("/auth/login",e).then((function(e){200===e.status?(localStorage.setItem("access_token",e.data.access_token),n.authenticated=!0,t()):(n.authenticated=!1,a())})).catch((function(e){n.authenticated=!1,a(),console.log(e)}))}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}()),y=(a(91),[[{title:"Cadastrar pacientes",target:"cadastrar-pacientes"},{title:"Gerenciar pacientes",target:"pacientes"}],[{title:"Novo",target:"cadastrar-atendimento"},{title:"Agendamentos",target:"agendamentos"},{title:"Material de Apoio",target:"material-apoio"}]]),R=function(e){return l.a.createElement("div",{className:d()("sidebar",{"is-open":e.isOpen})},l.a.createElement("div",{className:"sidebar-header"},l.a.createElement("span",{color:"info",onClick:e.toggle,style:{color:"#fff"}},"&times"),l.a.createElement("h3",{className:"sidebar-title"},l.a.createElement(m.a,{icon:i.c})," Consultas")),l.a.createElement("div",{className:"side-menu"},l.a.createElement(b.a,{style:{cursor:"pointer"},vertical:!0,className:"list-unstyled pb-3"},l.a.createElement("p",null,"Bem vindo Usu\xe1rio"),l.a.createElement(h,{title:"Pacientes",icon:i.g,items:y[0]}),l.a.createElement(h,{title:"Agendamento",icon:i.f,items:y[1]}),l.a.createElement(s.a,null,l.a.createElement(u.a,{onClick:function(){return S.logout((function(){return window.location.reload(!1)}))}},l.a.createElement(m.a,{icon:i.d,className:"mr-2"}),"Sair")))))},T=a(104),C=a(99),j=a(100),x=a(101),I=a(15),P=Object(I.b)((function(e){return{pageTitle:e.pageReducer.pageTitle}}))((function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){})),l.a.createElement(C.a,{color:"light",light:!0,className:"navbar shadow-sm p-3 mb-5 bg-white rounded",expand:"md"},l.a.createElement(j.a,{color:"info",onClick:e.toggle},l.a.createElement(m.a,{icon:i.a})),l.a.createElement(x.a,{onClick:function(){return c(!r)}}),l.a.createElement(p.a,{isOpen:r,navbar:!0},l.a.createElement(b.a,{className:"m-auto",navbar:!0},l.a.createElement(s.a,null,l.a.createElement("div",{className:"page-title"},l.a.createElement("h1",{className:"title"},e.pageTitle))))))})),D=a(6),w=a(53),_=function(e){var t=e.component,a=Object(w.a)(e,["component"]);return l.a.createElement(D.b,Object.assign({},a,{render:function(e){return S.isAuthenticated()?l.a.createElement(t,e):l.a.createElement(D.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},F=a(16),B=a(9),L=(a(48),a(102)),k=a(103),G=function(e){return{type:"SET_PAGE_TITLE",payload:e}},M=function(){return A.get("/patients")},U=function(e){return A.delete("/patients/".concat(e))},q=function(e){return A.post("/patients",e)},$=a(19),H=a.n($),z=Object(I.b)(null,(function(e){return{setPageTitle:function(t){return e(G(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(""),i=Object(o.a)(m,2),s=(i[0],i[1],Object(n.useState)("form-control input nascimento")),u=Object(o.a)(s,2),p=u[0],E=u[1],d=Object(n.useState)({}),f=Object(o.a)(d,2),h=f[0],b=f[1];Object(n.useEffect)((function(){e.setPageTitle("Cadastrar Paciente")}));var g=function(e){var t=e.target.value,a=e.target.name;b(Object(B.a)(Object(B.a)({},h),{},Object(F.a)({},a,t))),E("form-control input")},v=function(e){var t=e.target.value,a=e.target.name;b(Object(B.a)(Object(B.a)({},h),{},Object(F.a)({},a,t)))},O=function(e){var t=e.target.value,a=e.target.name;b(Object(B.a)(Object(B.a)({},h),{},{user:Object(B.a)(Object(B.a)({},h.user),{},Object(F.a)({name:h.name},a,t))}))},N=function(e){var t=e.target.value,a=e.target.name;b(Object(B.a)(Object(B.a)({},h),{},{address:Object(B.a)(Object(B.a)({},h.address),{},Object(F.a)({},a,t))}))};return l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(h),q(h).then((function(e){console.log(e),H.a.fire({title:"Paciente cadastrado com sucesso!",icon:"success",confirmButtonColor:"#1492A5"})})).catch((function(e){console.log(e),H.a.fire({title:"Ocorreu um erro.",text:"Por favor tente novamente mais tarde",icon:"warning",confirmButtonColor:"#1492A5"})}))}},l.a.createElement(L.a,null,l.a.createElement(k.a,{md:{size:6}},l.a.createElement("div",{className:"box"},l.a.createElement("h1",{className:"subtitle"},"Dados do paciente"),l.a.createElement(L.a,null,l.a.createElement(k.a,{md:8},l.a.createElement("label",{htmlFor:"name"},"Nome: "),l.a.createElement("input",{onChange:v,type:"text",name:"name",placeholder:"Nome completo",className:"form-control input"})),l.a.createElement(k.a,{md:4},l.a.createElement("label",{htmlFor:"telephone"},"Telefone Fixo: "),l.a.createElement("input",{onChange:v,type:"text",name:"telephone",className:"form-control input",placeholder:"DDD + n\xfamero"}))),l.a.createElement(L.a,{style:{marginTop:"32px"}},l.a.createElement(k.a,{md:4},l.a.createElement("label",{htmlFor:"phone"},"Celular: "),l.a.createElement("input",{onChange:v,type:"text",name:"phone",className:"form-control input",placeholder:"DDD + n\xfamero"})),l.a.createElement(k.a,{md:4},l.a.createElement("label",{htmlFor:"cpf"},"CPF: "),l.a.createElement("input",{type:"text",name:"cpf",className:"form-control input",onChange:function(e){c(function(e){return e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")}(e.target.value));var t=e.target.value,a=e.target.name;b(Object(B.a)(Object(B.a)({},h),{},Object(F.a)({},a,t)))},maxLength:"14",placeholder:"___.___.___-__",value:r})),l.a.createElement(k.a,{md:4},l.a.createElement("label",{htmlFor:"rg"},"RG: "),l.a.createElement("input",{onChange:v,type:"text",name:"rg",className:"form-control input"}))),l.a.createElement(L.a,{style:{marginTop:"32px",marginBottom:"32px"}},l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"birthday"},"Data de Nascimento: "),l.a.createElement("input",{type:"date",name:"birthday",className:p,placeholder:"Data de Nascimento",onChange:g,onKeyDown:g})),l.a.createElement(k.a,{md:6},"G\xeanero",l.a.createElement("div",{className:"genders"},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",className:"option-input radio",name:"genders",defaultChecked:!0}),"Masculino"),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",className:"option-input radio",name:"genders"}),"Feminino")))))),l.a.createElement(k.a,{md:{size:6}},l.a.createElement("div",{className:"box"},l.a.createElement("h1",{className:"subtitle"},"Endere\xe7o"),l.a.createElement(L.a,null,l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"street"},"Logradouro: "),l.a.createElement("input",{onChange:N,type:"text",name:"street",className:"form-control input",placeholder:"Rua, AV, etc..."})),l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"numero"},"N\xfamero: "),l.a.createElement("input",{onChange:N,type:"number",name:"number",className:"form-control input"}))),l.a.createElement(L.a,{style:{marginTop:"32px",marginBottom:"32px"}},l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"neighborhood"},"Bairro: "),l.a.createElement("input",{type:"text",name:"neighborhood",className:"form-control input"})),l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"cep"},"CEP: "),l.a.createElement("input",{onChange:N,type:"text",name:"cep",className:"form-control input"}))),l.a.createElement(L.a,{style:{marginBottom:"32px"}},l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"city_id"},"Municipio: "),l.a.createElement("select",{onChange:N,name:"city_id",className:"form-control input"},l.a.createElement("option",{value:"1"},"Novo Hamburgo"),l.a.createElement("option",{value:"2"},"S\xe3o Leopoldo"),l.a.createElement("option",{value:"3"},"Sapucaia"),l.a.createElement("option",{value:"4"},"Esteio"),l.a.createElement("option",{value:"5"},"Canoas"),l.a.createElement("option",{value:"6"},"Porto Alegre"))),l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"state"},"UF: "),l.a.createElement("select",{name:"state",className:"form-control input"},l.a.createElement("option",{value:"ACRE"},"ACRE"),l.a.createElement("option",{value:"ALAGOAS"},"ALAGOAS"),l.a.createElement("option",{value:"AMAP\xc1"},"AMAP\xc1"),l.a.createElement("option",{value:"AMAZONAS"},"AMAZONAS"),l.a.createElement("option",{value:"BAHIA"},"BAHIA"),l.a.createElement("option",{value:"CEAR\xc1"},"CEAR\xc1"),l.a.createElement("option",{value:"DISTRITO FEDERAL"},"DISTRITO FEDERAL"),l.a.createElement("option",{value:"ESP\xcdRITO SANTO"},"ESP\xcdRITO SANTO"),l.a.createElement("option",{value:"GOI\xc1S"},"GOI\xc1S"),l.a.createElement("option",{value:"MARANH\xc3O"},"MARANH\xc3O"),l.a.createElement("option",{value:"MATO GROSSO"},"MATO GROSSO"),l.a.createElement("option",{value:"MATO GROSSO DO SUL"},"MATO GROSSO DO SUL"),l.a.createElement("option",{value:"MINAS GERAIS"},"MINAS GERAIS"),l.a.createElement("option",{value:"PAR\xc1"},"PAR\xc1"),l.a.createElement("option",{value:"PARA\xcdBA"},"PARA\xcdBA"),l.a.createElement("option",{value:"PARAN\xc1"},"PARAN\xc1"),l.a.createElement("option",{value:"PERNAMBUCO"},"PERNAMBUCO"),l.a.createElement("option",{value:"PIAU\xcd"},"PIAU\xcd"),l.a.createElement("option",{value:"RIO DE JANEIRO"},"RIO DE JANEIRO"),l.a.createElement("option",{value:"RIO GRANDE DO NORTE"},"RIO GRANDE DO NORTE"),l.a.createElement("option",{value:"RIO GRANDE DO SUL"},"RIO GRANDE DO SUL"),l.a.createElement("option",{value:"ROND\xd4NIA"},"ROND\xd4NIA"),l.a.createElement("option",{value:"RORAIMA"},"RORAIMA"),l.a.createElement("option",{value:"SANTA CATARINA"},"SANTA CATARINA"),l.a.createElement("option",{value:"S\xc3O PAULO"},"S\xc3O PAULO"),l.a.createElement("option",{value:"SERGIPE"},"SERGIPE"),l.a.createElement("option",{value:"TOCANTINS"},"TOCANTINS"))))))),l.a.createElement(L.a,{style:{marginTop:"32px",marginBottom:"32px"}},l.a.createElement(k.a,{md:12},l.a.createElement("div",{className:"box"},l.a.createElement("h1",{className:"subtitle"},"Informa\xe7\xf5es adicionais"),l.a.createElement(L.a,null,l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"emergency_contact"},"Contato de Emerg\xeancia: "),l.a.createElement("input",{type:"text",name:"emergency_contact",className:"form-control input",placeholder:"DDD + n\xfamero"})),l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"emergency_name"},"Nome: "),l.a.createElement("input",{type:"text",name:"emergency_name",className:"form-control input",placeholder:"Nome completo"}))),l.a.createElement(L.a,{style:{marginTop:"32px",marginBottom:"32px"}},l.a.createElement(k.a,{md:12},l.a.createElement("label",{htmlFor:"observation"},"Observa\xe7\xe3o: "),l.a.createElement("textarea",{className:"form-control input",name:"observation"})))))),l.a.createElement(L.a,{style:{marginTop:"32px",marginBottom:"32px"}},l.a.createElement(k.a,{md:12},l.a.createElement("div",{className:"box"},l.a.createElement("h1",{className:"subtitle"},"Valor da Sess\xe3o"),l.a.createElement(L.a,{style:{marginBottom:"32px"}},l.a.createElement(k.a,{md:6},l.a.createElement("label",{htmlFor:"value"},"Valor: "),l.a.createElement("input",{type:"text",onChange:O,className:"form-control input",name:"value"})),l.a.createElement(k.a,{md:6},"Deseja recibo?",l.a.createElement("div",{className:"receipt"},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",className:"option-input radio",name:"receipt",defaultChecked:!0}),"Sim"),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",className:"option-input radio",name:"receipt"}),"N\xe3o"))))))),l.a.createElement(L.a,{style:{marginTop:"32px",marginBottom:"32px"}},l.a.createElement(k.a,{md:12},l.a.createElement("div",{className:"box"},l.a.createElement("h1",{className:"subtitle"},"Dados de Acesso ao Sistema"),l.a.createElement(L.a,null,l.a.createElement(k.a,{md:4},l.a.createElement("label",{htmlFor:"email"},"Usu\xe1rio: "),l.a.createElement("input",{onChange:O,type:"email",className:"form-control input",name:"email"})),l.a.createElement(k.a,{md:4},l.a.createElement("label",{htmlFor:"password"},"Senha: "),l.a.createElement("input",{onChange:O,type:"password",className:"form-control input",name:"password"})),l.a.createElement(k.a,{md:4},l.a.createElement("label",{htmlFor:"password_confirmation"},"Repetir Senha: "),l.a.createElement("input",{onChange:O,type:"password",className:"form-control input",name:"password_confirmation"}))),l.a.createElement(L.a,{style:{marginTop:"32px",marginBottom:"32px"}},l.a.createElement(k.a,{md:4},l.a.createElement("label",{htmlFor:"role"},"Hierarquia: "),l.a.createElement("select",{className:"form-control input",name:"role"},l.a.createElement("option",null,"Teste 1"),l.a.createElement("option",null,"Teste 2"),l.a.createElement("option",null,"Teste 3"))),l.a.createElement(k.a,{md:4},"Cadastro ativo?",l.a.createElement("div",{className:"active"},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",className:"option-input radio",name:"active",defaultChecked:!0}),"Sim"),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",className:"option-input radio",name:"active"}),"N\xe3o"))))))),l.a.createElement(L.a,{style:{marginBottom:"100px"}},l.a.createElement(k.a,{md:12},l.a.createElement("div",{className:"box"},l.a.createElement("h1",{className:"subtitle"},"Salvar dados"),l.a.createElement(j.a,{type:"submit"},"Salvar")))))})),J=a(54),V=a(52),W=function(e){Object(J.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).initialState=[],n.fetchPatients=function(){M().then((function(e){n.setState({patients:e.data.data}),n.initialState=e.data.data}))},n.handleInput=function(e){var t=n.initialState.filter((function(t){var a=t.name.toLocaleLowerCase(),n=e.target.value.toLocaleLowerCase();return a.includes(n)}));n.setState({patients:t})},n.deletePatient=function(e){H.a.fire({title:"Tem certeza que deseja excluir este paciente?",text:"Todos os registros vinculados ao paciente ser\xe3o completamente exclu\xeddos!",icon:"warning",showCancelButton:!0,confirmButtonText:"Excluir",confirmButtonColor:"red",cancelButtonText:"Cancelar",cancelButtonColor:"#1492A5"}).then((function(t){t.value&&U(e).then((function(e){200===e.status&&n.fetchPatients(),H.a.fire("Exclu\xeddo com sucesso!")})).catch((function(e){console.log(e)}))}))},n.state={patients:[]},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.setPageTitle("Gerenciar pacientes"),this.fetchPatients()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"box"},l.a.createElement(L.a,null,l.a.createElement(k.a,{md:12},l.a.createElement("label",{htmlFor:"search"},"Pesquisar:"),l.a.createElement("input",{type:"text",className:"form-control input",placeholder:"Digite aqui o nome do paciente...",onChange:this.handleInput}))),l.a.createElement("table",{className:"table table-striped table-sm table-responsive"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name:"),l.a.createElement("th",null,"RG:"),l.a.createElement("th",null,"Celular:"),l.a.createElement("th",null,"Editar:"),l.a.createElement("th",null,"Deletar:"))),l.a.createElement("tbody",null,this.state.patients.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.rg),l.a.createElement("td",null,t.phone),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return H.a.fire("Em constru\xe7\xe3o")},className:"btn edit-button"},l.a.createElement(m.a,{icon:i.b}))),l.a.createElement("td",null,l.a.createElement("button",{id:t.id,onClick:function(){return e.deletePatient(t.id)},className:"btn delete-button"},l.a.createElement(m.a,{icon:i.e}))))})))))}}]),a}(n.Component),X=Object(I.b)((function(e){return{patients:e.patientsReducer.patients}}),(function(e){return{setPageTitle:function(t){return e(G(t))},filterPatients:function(t){return e(function(e){return{type:"FILTER_PATIENTS",payload:e}}(t))}}}))(W),Z=function(e){return l.a.createElement(T.a,{fluid:!0,className:d()("content",{"is-open":e.isOpen})},l.a.createElement(P,{toggle:e.toggle}),l.a.createElement(D.d,null,l.a.createElement(_,{exact:!0,path:"/",component:function(){return"Em constru\xe7\xe3o..."}}),l.a.createElement(_,{exact:!0,path:"/cadastrar-pacientes",component:z}),l.a.createElement(_,{exact:!0,path:"/pacientes",component:X})))},K=(a(93),a(94),function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),p=u[0],E=u[1],d=Object(n.useState)(!1),f=Object(o.a)(d,2),h=f[0],b=f[1];return l.a.createElement(T.a,null,l.a.createElement(L.a,null,l.a.createElement(k.a,{className:"form-background",md:{size:6,offset:3}},l.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={email:r,password:p};S.login(a,(function(){return e.history.push("/")}),(function(){return b(!0)}))}},l.a.createElement("h2",null,l.a.createElement(m.a,{icon:i.c})," Acessar"),l.a.createElement("input",{onChange:function(e){return c(e.target.value)},type:"email",className:"form-control",name:"user",required:!0}),l.a.createElement("input",{onChange:function(e){return E(e.target.value)},type:"password",className:"form-control",name:"password",required:!0}),h?l.a.createElement("p",null,"Usu\xe1rio ou senha incorretos"):"",l.a.createElement(j.a,{className:"login-button"},"Acessar")))))}),Q=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],r=t[1],c=function(){return r(!a)};return l.a.createElement(f.a,null,l.a.createElement(D.d,null,l.a.createElement(D.b,{exact:!0,path:"/login",component:K}),l.a.createElement("div",{className:"App wrapper"},l.a.createElement(R,{toggle:c,isOpen:a}),l.a.createElement(Z,{toggle:c,isOpen:a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(18),ee={pageTitle:"Gerenciador de consultas"},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE_TITLE":return{pageTitle:t.payload};default:return e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_PATIENTS":var a=e.patients.filter((function(e){return e.name.toLocaleLowerCase().includes(t.payload.toLocaleLowerCase())}));return{patients:a};default:return e}},ne=Object(Y.c)({pageReducer:te,patientsReducer:ae}),le=a(51),re=Object(Y.d)(ne,Object(Y.a)(le.a));c.a.render(l.a.createElement(I.a,{store:re},l.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.37408117.chunk.js.map